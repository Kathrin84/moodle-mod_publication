define(["jquery","core/yui","core/str","core/templates","core/log"],function(a,b,c,d,e){var f=function(){this.id="",this.contextid=0,this.panel=null},g=new f;return g.initializer=function(f){g.id=f.id,g.mode=f.mode,e.info("Initialize groupapprovalstatus JS!","mod_publication"),c.get_string("filedetails","mod_publication").done(function(c){e.info("Done loading strings...","mod_publication"),a(".path-mod-publication .statustable .approvaldetails *").click(function(e){e.stopPropagation();var f,h=a(e.target),i=h.parent();try{f=i.data("approved")}catch(j){f=[]}var k;try{k=i.data("rejected")}catch(j){k=[]}var l;try{l=i.data("pending")}catch(j){l=[]}var m;try{m=c+" "+i.data("filename")}catch(j){m=c}var n;try{n=i.data("status")}catch(j){n={approved:!1,rejected:!1,pending:!1}}var o={id:g.id,mode:g.mode,status:n,approved:f,rejected:k,pending:l},p=d.render("mod_publication/approvaltooltip",o);p.done(function(a){g.panel?(g.panel.setStdModContent("header",m),g.panel.setStdModContent("body",a),g.panel.show()):b.use("moodle-core-info",function(){g.panel=new M.core.notification.info({}),g.panel.setStdModContent("header",m),g.panel.setStdModContent("body",a),g.panel.show()})}).fail(function(a){g.panel?(g.panel.setStdModContent("body",a.message),g.panel.show()):b.use("moodle-core-info",function(){g.panel=new M.core.notification.info({}),g.panel.setStdModContent("body",a.message),g.panel.show()})})}),a(".path-mod-publication .statustable .approvaldetails").fadeIn("slow")}).fail(function(a){e.error("Error getting strings: "+a,"mod_publication")})},g});